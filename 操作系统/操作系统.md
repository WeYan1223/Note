#### 操作系统

> 什么是操作系统？

操作系统是管理计算机硬件的程序，同时为应用程序提供基础服务（操作系统是应用程序与硬件设备的桥梁）

<img src="https://raw.githubusercontent.com/WeYan1223/Pic/master/操作系统/操-计算机结构.webp" alt="操-计算机结构.webp (1280×1011) (raw.githubusercontent.com)" style="zoom:67%;" /> 

操作系统的核心是内核，上图的分层结构使得应用程序只需关心与内核的交互，不用关系硬件细节



> 操作系统有什么作用？

操作系统内核一般有以下能力：

* 进程管理：包括进程的创建、调度、切换、终止等操作，保证不同进程之间的隔离和安全性
* 硬件管理：管理各种硬件资源，例如 CPU、内存、硬盘、网络等，以满足各种应用程序的需求
* 文件管理：管理文件系统，包括文件的存储、读写、权限控制、共享等操作
* 设备管理：管理计算机接入的各种设备，例如打印机、键盘、鼠标等，内核需要提供相应的设备驱动程序，以方便应用程序的使用
* 提供系统调用：系统调用是提供给应用程序的一组接口，应用程序通过这些接口请求操作系统执行一些特殊的操作，例如读写文件、创建进程、分配内存等



> 内核空间与用户空间是什么？

内核具有很高的权限，可以控制 CPU、内存、硬盘等硬件；而应用程序具有的权限很小，因此大多数操作系统把内存分成了两个区域

- 内核空间：这个内存空间只有内核程序可以访问，这里可以执行任意命令，调用系统的一切资源
- 用户空间：这个内存空间专门给应用程序使用，这里只能执行简单的运算，不能直接调用系统资源，必须通过系统调用，才能向内核发出指令

当进程运行在内核空间时就称 CPU 处于内核态，而进程运行在用户空间时则称 CPU 处于用户态，处于用户态的进程可以通过系统调用进入内核态



> 什么是系统调用？

系统调用是操作系统提供给应用程序的一组接口，应用程序通过这些接口请求操作系统执行一些特殊的操作，例如读写文件、创建进程、分配内存等

具体表现为由操作系统提供 C 语言函数的形式，例如 `Java` 中新建一个线程，`new Thread()` 之后调用 `start()` 方法时, 最终是调用 `pthread_create()` 系统方法来创建的线程

